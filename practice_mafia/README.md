# my mafia

# Инструкция по использованию

```docker build -f env.Dockerfile -t elderlypassionfruit/soa2-env .``` - если хочется собрать образ руками, но, по дефолту всё подгрузится из докерхаба.

```docker compose up``` поднимает сервер (по дефолту 4 игрока, 3 бота). Если хочется это поменять, нужно изменить константу ```GAME_SIZE``` для сервера, чтобы изменить количество игроков, параметр ```scale``` у сервиса ```bot```, чтобы изменить количество ботов.

```python3 start_client.py``` запускает клиента. Запускать надо из папки ```practice_mafia```. Клиент консольный, пошаговый. На каждое интерактивное действие выводится просьба его сделать с описанием формата ввода. Ввод с ошибками не падает - просит ввести ещё раз. 

Как я понял, клиент нужно было сделать не в докере, а отдельно, поэтому вот инструкция для установки окружения.

```
python3 -m venv --without-pip .mafia_env
source .mafia_env/bin/activate
curl https://bootstrap.pypa.io/get-pip.py | python3
deactivate
source .mafia_env/bin/activate
pip install -r requirements.txt
```

Так как очередь запускается довольно долго, подождите секунд 10 после запуска ```docker-compose up``` перед тем, как запускать клиента, чтобы сообщения работали корректно.
